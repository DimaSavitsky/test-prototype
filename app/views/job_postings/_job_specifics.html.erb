<%= hidden_field_tag :hiddenSpecificsOnetSocCode, occupation.onetsoc_code %>

<%= fields_for job_posting do |form_builder| %>

  <div class="card">
    <fieldset class="form-group">
      <%= form_builder.label :title %>
      <%= form_builder.text_field :title, placeholder: occupation.title %>
    </fieldset>

    <fieldset class="form-group">
      <%= form_builder.label :description %>
      <%= form_builder.text_area :description, placeholder: occupation.description  %>
    </fieldset>

    <fieldset class="form-group">
      <%= form_builder.label :abilities %>
      <table class="table table-sm">
        <tr>
          <td colspan="2"></td>
          <th>Required</th>
        </tr>
        <%- occupation.occupation_abilities.includes(:internal_ability).each_with_index do |ability, index| %>
          <tr data-toggle='tooltip' data-placement='right' title="<%= ability.internal_ability.description %>">
            <th><%= ability.internal_ability.name %></th>
            <td><%= ability.data_value %></td>
            <td>
              <%= radio_button_tag "job_posting[abilities[#{index}]]", 'false', !job_posting.abilities[index] %>
              <%= label "job_posting_abilities_#{index}_false", 'No' %>
              <%= radio_button_tag "job_posting[abilities[#{index}]]", 'true', job_posting.abilities[index] %>
              <%= label "job_posting_abilities_#{index}_true", 'Yes' %>
            </td>
          </tr>
        <%- end %>
      </table>
    </fieldset>
  </div>

<%- end %>
