<nav class="navbar">
  <div class="container">
    <%= link_to image_tag("navbar-logo.png", alt: 'logo'), root_path, class: "navbar-brand" %>

    <ul class="nav navbar-nav">
      <!--
      <li class="nav-item <%#= 'current' if current_page?(root_path) || current_page?(profile_path) %>" >
        <%#= link_to 'Home', root_path, class: "nav-link" %>
      </li>
      -->
      <li class="nav-item with_dropdown <%= 'current' if current_page?(profile_path) || params[:action].in?(['static_1', 'static_2', 'static_3'])%>">
        <%= link_to 'Profile', profile_path, class: "nav-link" %>
        <ul class="nav-child" style="margin-left: 26px;">
          <li class="nav-item-child">
            <%= link_to 'General', profile_path, class: "nav-link-child #{ 'current' if current_page?(profile_path)}" %>
          </li>
          <li class="nav-item-child">
            <%= link_to 'Skills', static_1_profile_path, class: "nav-link-child #{ 'current' if params[:action] == 'static_1'}" %>
          </li>
          <li class="nav-item-child">
            <%= link_to 'Work experience', static_2_profile_path, class: "nav-link-child #{ 'current' if params[:action] == 'static_2'}" %>
          </li>
          <li class="nav-item-child">
            <%= link_to 'Education', static_3_profile_path, class: "nav-link-child #{ 'current' if params[:action] == 'static_3'}" %>
          </li>
        </ul>
      </li>
      <li class="nav-item with_dropdown <%= 'current' if (params[:controller].in? ['job_searches', 'gap_reports', 'occupations']) || current_page?(job_applications_path)  %>">
        <%= link_to 'Career planning', profile_occupations_path, class: "nav-link" %>
        <ul class="nav-child" style="margin-left: 61px;">
          <li class="nav-item-child">
            <%= link_to 'Recommendations', profile_occupations_path, class: "nav-link-child #{ 'current' if params[:controller] == 'occupations'}" %>
          </li>
          <li class="nav-item-child">
            <%= link_to 'Job search', job_searches_path, class: "nav-link-child #{ 'current' if (params[:controller] == 'job_searches')}" %>
          </li>
          <li class="nav-item-child">
            <%= link_to 'Job application', job_applications_path, class: "nav-link-child #{ 'current' if current_page?(job_applications_path)}" %>
          </li>
        </ul>
      </li>
      <li class="nav-item with_dropdown <%= 'current' if current_page?(tests_path) || params[:controller] == 'trainings' %>">
        <%= link_to 'Life long learning', tests_path, class: "nav-link" %>
        <ul class="nav-child" style="margin-left: 69px;">
          <li class="nav-item-child">
            <%= link_to 'Test', tests_path, class: "nav-link-child #{ 'current' if current_page?(tests_path)}" %>
          </li>
          <li class="nav-item-child">
            <%= link_to 'Training', trainings_path, class: "nav-link-child #{ 'current' if params[:controller] == 'trainings'}" %>
          </li>
          <li class="nav-item-child">
            <%= link_to 'Resources', root_path, class: "nav-link-child" %>
          </li>
        </ul>
      </li>
      <li class="nav-item with_dropdown <%= 'current' if current_page?(administration_tests_path) || params[:controller].in?(['job_postings', 'fake_job_postings'])%>">
        <%= link_to 'Others', job_postings_path, class: "nav-link" %>

        <ul class="nav-child" style="margin-left: 28px;">
          <li class="nav-item-child">
            <%= link_to 'Job Postings', fake_job_postings_path, class: "nav-link-child #{ 'current' if params[:controller] == 'fake_job_postings'}" %>
          </li>
          <li class="nav-item-child">
            <%= link_to 'Job Applications', job_postings_path, class: "nav-link-child #{ 'current' if params[:controller] == 'job_postings'}" %>
          </li>
          <li class="nav-item-child">
            <%= link_to 'Test Builder', administration_tests_path, class: "nav-link-child" %>
          </li>
        </ul>
      </li>
      <li class="nav-item with_dropdown">
        <%= link_to 'Message', root_path, class: "nav-link" %>
        <ul class="nav-child" style="margin-left: 28px;">
        </ul>
      </li>
      
      <!--
      <li class="nav-item">
        <%#= link_to 'Recommendations', profile_occupations_path, class: "nav-link" %>
      </li>
      <li class="nav-item">
        <%#= link_to 'Job Postings', job_postings_path, class: "nav-link" %>
      </li>
      <li class="nav-item">
        <%#= link_to 'Tests', tests_path, class: "nav-link" %>
      </li>
      <li class="nav-item">
        <%#= link_to 'Test Builder', administration_tests_path, class: "nav-link" %>
      </li>
      -->
    </ul>

    <div class="pull-xs-right creds">
      <p>
      <%- if current_user %>
        <span>
          <%= current_user.email %>
        </span><br/>
        <%= link_to 'Log Out', destroy_user_session_path, method: :delete, class: "logout" %>
        <%- else %>
          <%= link_to 'Log In', new_user_session_path, class: "btn btn-success-outline" %> <br/>
          <%= link_to 'Sign Up', new_user_registration_path, class: "btn btn-success-outline" %>
        <%- end %>
        </p>
    </div>
  </div>
</nav>
